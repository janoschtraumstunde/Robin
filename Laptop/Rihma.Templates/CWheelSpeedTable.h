#include <avr/pgmspace.h>

// left, right, back
const prog_int8_t wheelSpeeds[] PROGMEM = {
	255, -255, 0, // 0
	255, -249, -5, // 1
	255, -245, -9, // 2
	255, -239, -15, // 3
	255, -235, -19, // 4
	255, -230, -24, // 5
	255, -226, -29, // 6
	255, -221, -34, // 7
	255, -216, -38, // 8
	255, -212, -42, // 9
	255, -208, -47, // 10
	255, -203, -51, // 11
	255, -199, -56, // 12
	255, -195, -60, // 13
	255, -190, -63, // 14
	255, -187, -67, // 15
	255, -183, -72, // 16
	255, -178, -76, // 17
	255, -174, -80, // 18
	255, -170, -85, // 19
	255, -166, -88, // 20
	255, -163, -92, // 21
	255, -158, -96, // 22
	255, -154, -100, // 23
	255, -150, -104, // 24
	255, -147, -107, // 25
	255, -143, -111, // 26
	255, -139, -115, // 27
	255, -136, -119, // 28
	255, -132, -123, // 29
	255, -128, -128, // 30
	255, -123, -132, // 31
	255, -119, -136, // 32
	255, -115, -139, // 33
	255, -111, -143, // 34
	255, -107, -147, // 35
	255, -104, -150, // 36
	255, -100, -154, // 37
	255, -96, -158, // 38
	255, -92, -163, // 39
	255, -88, -166, // 40
	255, -85, -170, // 41
	255, -80, -174, // 42
	255, -76, -178, // 43
	255, -72, -183, // 44
	255, -67, -187, // 45
	255, -63, -190, // 46
	255, -60, -195, // 47
	255, -56, -199, // 48
	255, -51, -203, // 49
	255, -47, -208, // 50
	255, -42, -212, // 51
	255, -38, -216, // 52
	255, -34, -221, // 53
	255, -29, -226, // 54
	255, -24, -230, // 55
	255, -19, -235, // 56
	255, -15, -239, // 57
	255, -9, -245, // 58
	255, -5, -249, // 59
	255, 0, -255, // 60
	249, 5, -255, // 61
	245, 9, -255, // 62
	239, 15, -255, // 63
	235, 19, -255, // 64
	230, 24, -255, // 65
	226, 29, -255, // 66
	221, 34, -255, // 67
	216, 38, -255, // 68
	212, 42, -255, // 69
	208, 47, -255, // 70
	203, 51, -255, // 71
	199, 56, -255, // 72
	195, 60, -255, // 73
	190, 63, -255, // 74
	187, 68, -255, // 75
	183, 72, -255, // 76
	178, 76, -255, // 77
	174, 80, -255, // 78
	170, 85, -255, // 79
	166, 88, -255, // 80
	163, 92, -255, // 81
	158, 96, -255, // 82
	154, 100, -255, // 83
	150, 104, -255, // 84
	147, 107, -255, // 85
	143, 111, -255, // 86
	139, 115, -255, // 87
	136, 119, -255, // 88
	132, 123, -255, // 89
	127, 127, -255, // 90
	123, 132, -255, // 91
	119, 136, -255, // 92
	115, 139, -255, // 93
	111, 143, -255, // 94
	107, 147, -255, // 95
	104, 150, -255, // 96
	100, 154, -255, // 97
	96, 158, -255, // 98
	92, 163, -255, // 99
	88, 166, -255, // 100
	85, 170, -255, // 101
	80, 174, -255, // 102
	76, 178, -255, // 103
	72, 183, -255, // 104
	68, 187, -255, // 105
	63, 190, -255, // 106
	60, 195, -255, // 107
	56, 199, -255, // 108
	51, 203, -255, // 109
	47, 208, -255, // 110
	42, 212, -255, // 111
	38, 216, -255, // 112
	34, 221, -255, // 113
	29, 226, -255, // 114
	24, 230, -255, // 115
	19, 235, -255, // 116
	15, 239, -255, // 117
	9, 245, -255, // 118
	5, 249, -255, // 119
	0, 255, -255, // 120
	-5, 255, -249, // 121
	-9, 255, -245, // 122
	-15, 255, -239, // 123
	-19, 255, -235, // 124
	-24, 255, -230, // 125
	-29, 255, -226, // 126
	-34, 255, -221, // 127
	-38, 255, -216, // 128
	-42, 255, -212, // 129
	-47, 255, -208, // 130
	-51, 255, -203, // 131
	-56, 255, -199, // 132
	-60, 255, -195, // 133
	-63, 255, -190, // 134
	-67, 255, -187, // 135
	-72, 255, -183, // 136
	-76, 255, -178, // 137
	-80, 255, -174, // 138
	-85, 255, -170, // 139
	-88, 255, -166, // 140
	-92, 255, -163, // 141
	-96, 255, -158, // 142
	-100, 255, -154, // 143
	-104, 255, -150, // 144
	-107, 255, -147, // 145
	-111, 255, -143, // 146
	-115, 255, -139, // 147
	-119, 255, -136, // 148
	-123, 255, -132, // 149
	-128, 255, -128, // 150
	-132, 255, -123, // 151
	-136, 255, -119, // 152
	-139, 255, -115, // 153
	-143, 255, -111, // 154
	-147, 255, -107, // 155
	-150, 255, -104, // 156
	-154, 255, -100, // 157
	-158, 255, -96, // 158
	-163, 255, -92, // 159
	-166, 255, -88, // 160
	-170, 255, -85, // 161
	-174, 255, -80, // 162
	-178, 255, -76, // 163
	-183, 255, -72, // 164
	-187, 255, -67, // 165
	-190, 255, -63, // 166
	-195, 255, -60, // 167
	-199, 255, -56, // 168
	-203, 255, -51, // 169
	-208, 255, -47, // 170
	-212, 255, -42, // 171
	-216, 255, -38, // 172
	-221, 255, -34, // 173
	-226, 255, -29, // 174
	-230, 255, -24, // 175
	-235, 255, -19, // 176
	-239, 255, -15, // 177
	-245, 255, -9, // 178
	-249, 255, -5, // 179
	-255, 255, 0, // 180
	-255, 249, 5, // 181
	-255, 245, 9, // 182
	-255, 239, 15, // 183
	-255, 235, 19, // 184
	-255, 230, 24, // 185
	-255, 226, 29, // 186
	-255, 221, 34, // 187
	-255, 216, 38, // 188
	-255, 212, 42, // 189
	-255, 208, 47, // 190
	-255, 203, 51, // 191
	-255, 199, 56, // 192
	-255, 195, 60, // 193
	-255, 190, 63, // 194
	-255, 187, 67, // 195
	-255, 183, 72, // 196
	-255, 178, 76, // 197
	-255, 174, 80, // 198
	-255, 170, 85, // 199
	-255, 166, 88, // 200
	-255, 163, 92, // 201
	-255, 158, 96, // 202
	-255, 154, 100, // 203
	-255, 150, 104, // 204
	-255, 147, 107, // 205
	-255, 143, 111, // 206
	-255, 139, 115, // 207
	-255, 136, 119, // 208
	-255, 132, 123, // 209
	-255, 128, 128, // 210
	-255, 123, 132, // 211
	-255, 119, 136, // 212
	-255, 115, 139, // 213
	-255, 111, 143, // 214
	-255, 107, 147, // 215
	-255, 104, 150, // 216
	-255, 100, 154, // 217
	-255, 96, 158, // 218
	-255, 92, 163, // 219
	-255, 88, 166, // 220
	-255, 85, 170, // 221
	-255, 80, 174, // 222
	-255, 76, 178, // 223
	-255, 72, 183, // 224
	-255, 67, 187, // 225
	-255, 63, 190, // 226
	-255, 60, 195, // 227
	-255, 56, 199, // 228
	-255, 51, 203, // 229
	-255, 47, 208, // 230
	-255, 42, 212, // 231
	-255, 38, 216, // 232
	-255, 34, 221, // 233
	-255, 29, 226, // 234
	-255, 24, 230, // 235
	-255, 19, 235, // 236
	-255, 15, 239, // 237
	-255, 9, 245, // 238
	-255, 5, 249, // 239
	-255, 0, 255, // 240
	-249, -5, 255, // 241
	-245, -9, 255, // 242
	-239, -15, 255, // 243
	-235, -19, 255, // 244
	-230, -24, 255, // 245
	-226, -29, 255, // 246
	-221, -34, 255, // 247
	-216, -38, 255, // 248
	-212, -42, 255, // 249
	-208, -47, 255, // 250
	-203, -51, 255, // 251
	-199, -56, 255, // 252
	-195, -60, 255, // 253
	-190, -63, 255, // 254
	-187, -68, 255, // 255
	-183, -72, 255, // 256
	-178, -76, 255, // 257
	-174, -80, 255, // 258
	-170, -85, 255, // 259
	-166, -88, 255, // 260
	-163, -92, 255, // 261
	-158, -96, 255, // 262
	-154, -100, 255, // 263
	-150, -104, 255, // 264
	-147, -107, 255, // 265
	-143, -111, 255, // 266
	-139, -115, 255, // 267
	-136, -119, 255, // 268
	-132, -123, 255, // 269
	-127, -127, 255, // 270
	-123, -132, 255, // 271
	-119, -136, 255, // 272
	-115, -139, 255, // 273
	-111, -143, 255, // 274
	-107, -147, 255, // 275
	-104, -150, 255, // 276
	-100, -154, 255, // 277
	-96, -158, 255, // 278
	-92, -163, 255, // 279
	-88, -166, 255, // 280
	-85, -170, 255, // 281
	-80, -174, 255, // 282
	-76, -178, 255, // 283
	-72, -183, 255, // 284
	-68, -187, 255, // 285
	-63, -190, 255, // 286
	-60, -195, 255, // 287
	-56, -199, 255, // 288
	-51, -203, 255, // 289
	-47, -208, 255, // 290
	-42, -212, 255, // 291
	-38, -216, 255, // 292
	-34, -221, 255, // 293
	-29, -226, 255, // 294
	-24, -230, 255, // 295
	-19, -235, 255, // 296
	-15, -239, 255, // 297
	-9, -245, 255, // 298
	-5, -249, 255, // 299
	0, -255, 255, // 300
	5, -255, 249, // 301
	9, -255, 245, // 302
	15, -255, 239, // 303
	19, -255, 235, // 304
	24, -255, 230, // 305
	29, -255, 226, // 306
	34, -255, 221, // 307
	38, -255, 216, // 308
	42, -255, 212, // 309
	47, -255, 208, // 310
	51, -255, 203, // 311
	56, -255, 199, // 312
	60, -255, 195, // 313
	63, -255, 190, // 314
	67, -255, 187, // 315
	72, -255, 183, // 316
	76, -255, 178, // 317
	80, -255, 174, // 318
	85, -255, 170, // 319
	88, -255, 166, // 320
	92, -255, 163, // 321
	96, -255, 158, // 322
	100, -255, 154, // 323
	104, -255, 150, // 324
	107, -255, 147, // 325
	111, -255, 143, // 326
	115, -255, 139, // 327
	119, -255, 136, // 328
	123, -255, 132, // 329
	128, -255, 128, // 330
	132, -255, 123, // 331
	136, -255, 119, // 332
	139, -255, 115, // 333
	143, -255, 111, // 334
	147, -255, 107, // 335
	150, -255, 104, // 336
	154, -255, 100, // 337
	158, -255, 96, // 338
	163, -255, 92, // 339
	166, -255, 88, // 340
	170, -255, 85, // 341
	174, -255, 80, // 342
	178, -255, 76, // 343
	183, -255, 72, // 344
	187, -255, 67, // 345
	190, -255, 63, // 346
	195, -255, 60, // 347
	199, -255, 56, // 348
	203, -255, 51, // 349
	208, -255, 47, // 350
	212, -255, 42, // 351
	216, -255, 38, // 352
	221, -255, 34, // 353
	226, -255, 29, // 354
	230, -255, 24, // 355
	235, -255, 19, // 356
	239, -255, 15, // 357
	245, -255, 9, // 358
	249, -255, 5, // 359
};

class WheelSpeedTable {	
public:
	static void fromDirection(int direction, int8_t &left, int8_t &right, int8_t &back) {
		const prog_int8_t* pointer = &wheelSpeeds[direction * 3];
		left = pgm_read_byte(pointer);
		right = pgm_read_byte(pointer+1);
		back = pgm_read_byte(pointer+2);
	}
};